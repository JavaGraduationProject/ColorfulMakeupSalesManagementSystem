webpackJsonp([7],{"2ikn":function(t,e,s){"use strict";var o=s("VsUZ"),a=s("X2Oc"),c={name:"HotCart",beforeRouteEnter:function(t,e,s){window.scrollTo(0,0),s()},props:{a:{type:String,default:"0"},searchData:{type:String}},data:function(){return{noGoods:s("wv4G"),chose:!1,collectList:[],temfielPath:"http://localhost:8089/img/"}},mounted:function(){"0"!==this.a?this.getCollection():this.getAllCollection()},methods:{choseItem:function(t){t.choseItem=!t.choseItem},showBtn:function(t){var e=document.getElementById("btn");t.offsetX<50&&t.offsetY<50?e.style.backgroundColor="red":e.style.backgroundColor="#EFEFEF"},del:function(t){var e=this,s=t.srcElement.dataset.goodsid;if(t.offsetX<50&&t.offsetY<50){console.log("12312412");var o=t.srcElement.dataset.likeid;this.$confirm("是否取消收藏该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={},s={};s.id=o,t.send=s,t.url="like/cancelLike",console.log(t),Object(a.a)(t,function(t){if(console.log(t),100==t.code){for(var s=e.collectList,a=0;a<s.length;a++)s[a].id==o&&(s.splice(a,1),e.collectList=s);e.$message({type:"success",message:"操作成功!"})}})}).catch(function(){e.$message({type:"info",message:"已取消操作"})})}else this.$router.push({path:"/goodsDetail",query:{goodsId:s}})},hideDelete:function(t){t.seen=!1},deleteLike:function(t){t.seen=!0},getCollection:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.a.getAllCollection().then(function(e){t.collectList=e.extend.likeList.slice(0,10)})},getAllCollection:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.a.getAllCollection(e).then(function(s){console.log(e),console.log(t.searchData);var o=s.extend.likeList;o.forEach(function(t){t.seen=!1,t.choseItem=!1}),t.collectList=o,console.log(t.collectList)})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container1"},[s("div",{staticClass:"goods-box2"},[s("div",{staticClass:"goods-box-box"},[s("div",{staticClass:"goods-list"},[t._l(t.collectList,function(e,o){return s("div",{key:o,staticClass:"goods-info-show"},[s("div",{staticClass:"goods-show-img",on:{mouseover:function(s){return t.deleteLike(e)},mouseout:function(s){return t.hideDelete(e)}}},[s("img",{staticClass:"goods-img",attrs:{src:t.temfielPath+e.goods.picture}}),t._v(" "),e.seen?s("button",{staticClass:"btn",attrs:{id:"btn"}},[s("i",{staticClass:"el-icon-delete"})]):t._e(),t._v(" "),s("div",{staticClass:"a",attrs:{"data-likeId":e.id,"data-goodsId":e.goodsId},on:{click:t.del,mousemove:t.showBtn}})]),t._v(" "),s("div",{staticClass:"goods-show-price"},[s("span",[s("Icon",{attrs:{type:"social-yen text-danger"}}),t._v(" "),s("span",{staticClass:"seckill-price text-danger"},[t._v(t._s(e.goods.sellPrice))])],1)]),t._v(" "),s("div",{staticClass:"goods-show-detail"},[s("router-link",{attrs:{title:"商品专区",target:"_blank",to:{path:"/goodsDetail",query:{goodsId:e.goodsId}}}},[s("span",[t._v(t._s(e.goods.description))])])],1),t._v(" "),s("div",{staticClass:"goods-show-num"},[t._v("\n              已有"),s("span",[t._v(t._s(e.goods.remark))]),t._v("人评价\n            ")]),t._v(" "),s("div",{staticClass:"goods-show-seller"},[s("span",[t._v(t._s(e.goods.goodsname))]),t._v(" "),t.chose?s("div",{class:e.choseItem?"mark":"btn-chose",on:{click:function(s){return t.choseItem(e)}}},[s("Icon",{attrs:{type:"md-checkmark"}})],1):t._e()])])}),t._v(" "),0==t.collectList.length&&""==t.searchData?s("div",{staticClass:"no-list"},[s("div",[s("img",{staticClass:"no-goods",attrs:{src:t.noGoods}})]),t._v(" "),s("div",{staticClass:"no-text"},[s("p",{staticStyle:{"margin-top":"30px"}},[t._v("您暂时还未收藏任何商品。")]),t._v(" "),s("p",[t._v("请前往"),s("router-link",{attrs:{to:"/"}},[t._v("商品区")]),t._v("进行收藏吧")],1)])]):t._e(),t._v(" "),0==t.collectList.length&&""!=t.searchData&&null!=t.searchData?s("div",{staticClass:"no-list"},[s("div",[s("img",{staticClass:"no-goods",attrs:{src:t.noGoods}})]),t._v(" "),s("div",[s("p",{staticClass:"no-text"},[t._v('您的收藏夹，木有与"'+t._s(t.searchData)+'"相关的宝贝商品哦')]),t._v(" "),s("p",[t._v("看看输入的文字是否有误")]),t._v(" "),s("p",[t._v("去掉不必要的字或词，如“的”、“什么”等")]),t._v(" "),s("p",[t._v("调整关键字，如“移动充值”改为“移动 充值”或“移动”")]),t._v(" "),s("p",[t._v("去看看其他"),s("router-link",{attrs:{to:"/"}},[t._v("商品吧")])],1)])]):t._e()],2)])])])},staticRenderFns:[]};var l=s("VU/8")(c,i,!1,function(t){s("E46L")},"data-v-0173bfa6",null);e.a=l.exports},CIqs:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("q3TC"),a=s("X2Oc"),c={components:{Collection:s("2ikn").a,HotCart:o.a},data:function(){return{userInfo:JSON.parse(localStorage.getItem("userdata")),activeName:"first",searchData:"",hasaction:!1,allchose:!1}},methods:{deleByBatch:function(){var t=this,e=[];this.$refs.coll.collectList.forEach(function(t){t.choseItem&&e.push(t.id)}),console.log(e),this.$confirm("是否删除这些商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.delByBatch(e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},delByBatch:function(t){var e=this;this.axios({method:"GET",url:"http://localhost:8089/hf/like/deleteByBatch?ids="+t}).then(function(t){100==t.data.code?(e.$refs.coll.getAllCollection(),e.$message({type:"success",message:"删除成功!"})):e.$message({type:"error",message:"删除失败!"})})},choseAll:function(){this.allchose=!this.allchose,this.allchose?this.$refs.coll.collectList.forEach(function(t){t.choseItem=!0}):this.$refs.coll.collectList.forEach(function(t){t.choseItem=!1})},handleClick:function(t,e){"全部宝贝"==t.label&&(this.$refs.coll.getAllCollection(),this.searchData=null)},goSearch:function(){this.$refs.coll.getAllCollection(this.searchData)},openAction:function(){this.hasaction=!this.hasaction,this.$refs.coll.chose=!this.$refs.coll.chose},clearColl:function(){var t=this;this.$confirm("是否清空?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=t.userInfo.id;console.log(e);var s={},o={};o.userId=e,s.send=o,s.url="like/clearLike",Object(a.a)(s,function(e){console.log(e),100==e.code&&(t.$Message.success("清空成功了！"),t.$refs.coll.collectList=[])})}).catch(function(){t.$message({type:"info",message:"已取消清空"})})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"home-top"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"top2"},[s("Input",{staticClass:"sousuo",staticStyle:{outline:"none"},attrs:{size:"large",placeholder:"输入你想查找的商品"},model:{value:t.searchData,callback:function(e){t.searchData=e},expression:"searchData"}},[s("Button",{staticClass:"searchBtn",attrs:{slot:"append",icon:"ios-search"},on:{click:t.goSearch},slot:"append"})],1)],1)]),t._v(" "),s("div",{staticClass:"coll-box"},[s("div",{staticClass:"action"},[t.hasaction?s("p",{staticClass:"action-title1",on:{click:t.clearColl}},[t._v("清空收藏夹")]):t._e(),t._v(" "),t.hasaction?s("p",{staticClass:"action-title1",on:{click:t.choseAll}},[t.allchose?s("Icon",{attrs:{type:"ios-checkmark-circle-outline"}}):t._e(),t.allchose?t._e():s("Icon",{attrs:{type:"md-radio-button-off"}}),t._v("全选")],1):t._e(),t._v(" "),t.hasaction?s("p",{staticClass:"action-title1",on:{click:t.deleByBatch}},[s("Icon",{attrs:{type:"md-trash"}}),t._v("删除")],1):t._e(),t._v(" "),s("p",{staticClass:"action-title",on:{click:t.openAction}},[t._v("批量管理")])]),t._v(" "),s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"全部宝贝",name:"first"}},[s("collection",{ref:"coll",attrs:{searchData:t.searchData}})],1),t._v(" "),s("el-tab-pane",{attrs:{label:"失效宝贝",name:"second"}})],1),t._v(" "),s("div",{staticClass:"cai-like"},[s("p",{staticClass:"like-p"},[t._v("猜你喜欢")]),t._v(" "),s("hr",{staticStyle:{height:"2px",border:"none",color:"#E4E7ED","background-color":"#E4E7ED"}}),t._v(" "),s("div",[s("hot-cart")],1)])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top1"},[e("p",{staticClass:"top-text"},[this._v("XX彩妆")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top3"},[e("p",[this._v(" 我的收藏夹")])])}]};var l=s("VU/8")(c,i,!1,function(t){s("zUAa"),s("Lvty")},"data-v-6eac1a28",null);e.default=l.exports},E46L:function(t,e){},Lvty:function(t,e){},wv4G:function(t,e,s){t.exports=s.p+"static/img/no-goods.abb4d7a.png"},zUAa:function(t,e){}});
//# sourceMappingURL=7.5126b41ce1d3801eda4d.js.map